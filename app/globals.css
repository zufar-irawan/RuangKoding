@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --background: 0 0% 100%;
        --foreground: 0 0% 3.9%;
        --card: 0 0% 100%;
        --card-foreground: 0 0% 3.9%;
        --popover: 0 0% 100%;
        --popover-foreground: 0 0% 3.9%;
        --primary: 195 100% 45%;
        --primary-foreground: 0 0% 100%;
        --secondary: 270 65% 30%;
        --secondary-foreground: 270 65% 98%;
        --tertiary: 212 63% 95%;
        --tertiary-foreground: 212 80% 20%;
        --muted: 210 20% 96%;
        --muted-foreground: 215 15% 45%;
        --accent: 195 90% 92%;
        --accent-foreground: 195 100% 30%;
        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 0 0% 98%;
        --border: 215 20% 88%;
        --input: 215 20% 88%;
        --ring: 195 100% 45%;
        --chart-1: 195 100% 45%;
        --chart-2: 270 65% 50%;
        --chart-3: 212 63% 60%;
        --chart-4: 280 60% 55%;
        --chart-5: 260 70% 60%;
        --radius: 0.5rem;
    }
    .dark {
        --background: 222 47% 8%;
        --foreground: 210 40% 98%;
        --card: 222 47% 11%;
        --card-foreground: 210 40% 98%;
        --popover: 222 47% 11%;
        --popover-foreground: 210 40% 98%;
        --primary: 195 100% 45%;
        --primary-foreground: 0 0% 100%;
        --secondary: 270 60% 65%;
        --secondary-foreground: 270 20% 10%;
        --tertiary: 212 40% 20%;
        --tertiary-foreground: 212 63% 95%;
        --muted: 217 33% 17%;
        --muted-foreground: 215 20% 65%;
        --accent: 195 70% 25%;
        --accent-foreground: 195 90% 90%;
        --destructive: 0 62.8% 50.6%;
        --destructive-foreground: 0 0% 98%;
        --border: 217 33% 17%;
        --input: 217 33% 17%;
        --ring: 195 100% 50%;
        --chart-1: 195 100% 50%;
        --chart-2: 270 60% 60%;
        --chart-3: 212 63% 70%;
        --chart-4: 280 55% 65%;
        --chart-5: 260 65% 65%;
    }
}

@layer base {
    * {
        @apply border-border;
    }
    body {
        @apply bg-background text-foreground;
    }
}

.blob {
    background-image: url("../public/blob-scene-haikei.svg");
}

.dark .blob {
    background-image: url("../public/blob-scene-haikei-dark.svg");
}

.haikei {
    aspect-ratio: 960/300;
    width: 100%;
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
}
.editor-code {
    position: relative;
    display: block;
    min-height: 3rem;
    padding: 1rem 1rem 1rem 4.5rem;
    border-radius: 0.75rem;
    border: 1px solid hsl(var(--border));
    background-color: hsl(var(--muted));
    color: hsl(var(--muted-foreground));
    font-family:
        "JetBrains Mono", "Fira Code", ui-monospace, SFMono-Regular, Menlo,
        Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.9rem;
    line-height: 1.6;
    white-space: pre;
    overflow-x: auto;
    overflow-y: hidden;
    box-shadow: 0 20px 40px rgba(15, 23, 42, 0.15);
}

.editor-code::before {
    content: attr(data-gutter);
    position: absolute;
    inset: 0 auto 0 0;
    width: 4rem;
    white-space: pre;
    text-align: right;
    padding: 1rem 0.75rem;
    border-right: 1px solid hsl(var(--border));
    background-color: hsl(var(--card));
    color: hsl(var(--muted-foreground));
    letter-spacing: 0.05em;
    font-size: 0.75rem;
    font-family: inherit;
    user-select: none;
}

.editor-code > * {
    display: inline;
    white-space: inherit;
    background-color: transparent;
    margin: 0;
    padding: 0;
    line-height: inherit;
    font-family: inherit;
    font-size: inherit;
    color: inherit;
}

.editor-code .token.keyword,
.editor-code .token.boolean,
.editor-code .token.constant {
    color: #f472b6;
}

.editor-code .token.string,
.editor-code .token.attr-value,
.editor-code .token.char {
    color: #facc15;
}

.editor-code .token.function,
.editor-code .token.builtin {
    color: #38bdf8;
}

.editor-code .token.comment {
    color: #94a3b8;
    font-style: italic;
}

.editor-code .token.number {
    color: #c084fc;
}

.editor-code .token.operator,
.editor-code .token.punctuation {
    color: #94a3b8;
}

.editor-image {
    position: relative;
    display: inline-block;
    max-width: 100%;
}

.image-resizer {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 10;
}

.image-resizer--active {
    border-radius: 0.75rem;
    box-shadow: 0 0 0 2px hsl(var(--primary) / 0.4);
}

.image-resizer-handle {
    position: absolute;
    width: 12px;
    height: 12px;
    border-radius: 999px;
    border: 1px solid hsl(var(--background));
    background-color: hsl(var(--primary));
    box-shadow: 0 0 4px rgba(15, 23, 42, 0.3);
    pointer-events: auto;
}

.editor-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
    border: 1px solid hsl(var(--border));
    border-radius: 0.75rem;
    overflow: hidden;
    background-color: hsl(var(--card));
    box-shadow: 0 6px 16px rgba(15, 23, 42, 0.08);
}

.editor-table-cell,
.editor-table-cell-header {
    border: 1px solid hsl(var(--border));
    padding: 0.75rem 1rem;
    min-width: 110px;
    background-color: hsl(var(--card));
    position: relative;
}

.editor-table-row > .editor-table-cell:last-child,
.editor-table-row > .editor-table-cell-header:last-child {
    border-right: none;
}

.editor-table-row:last-child > .editor-table-cell,
.editor-table-row:last-child > .editor-table-cell-header {
    border-bottom: none;
}

.editor-table-cell:focus-within,
.editor-table-cell-header:focus-within {
    box-shadow: inset 0 0 0 1px rgba(0, 171, 228, 0.3);
    background-color: hsl(var(--secondary));
}

.editor-table-cell-header {
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-size: 0.75rem;
    font-weight: 600;
    background-color: hsl(var(--secondary));
    color: hsl(var(--secondary-foreground));
}
